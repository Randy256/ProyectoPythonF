{% extends 'base.html' %}
{% block title %} MIS VENTAS {% endblock %}

{% block body %}

<div class="container mt-5">
    {% if session['user'] %}
    <h1 class="text-center mb-4 text-success">üë§ Historial de Pedidos de {{ session['user'].nombre }}</h1>
    {% else %}
    <h1 class="text-center mb-4 text-success">üõçÔ∏è Historial de Compras</h1>
    {% endif %}

    <p class="text-center lead">Aqu√≠ puedes revisar los detalles de todas tus compras anteriores en nuestra librer√≠a.
    </p>

    <div class="row justify-content-center">
        <div class="col-md-10">

            <div class="table-responsive">
                <table class="table table-striped table-hover shadow-sm">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">ID de Orden</th>
                            <th scope="col">Fecha</th>
                            <th scope="col">Total</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Detalles</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">#20240101</th>
                            <td>01/01/2024</td>
                            <td>$15.50</td>
                            <td><span class="badge bg-success">Entregado</span></td>
                            <td><button class="btn btn-sm btn-info text-white" data-bs-toggle="modal"
                                    data-bs-target="#ordenModal1">Ver</button></td>
                        </tr>
                        <tr>
                            <th scope="row">#20240215</th>
                            <td>15/02/2024</td>
                            <td>$8.90</td>
                            <td><span class="badge bg-warning text-dark">En Proceso</span></td>
                            <td><button class="btn btn-sm btn-info text-white" data-bs-toggle="modal"
                                    data-bs-target="#ordenModal2">Ver</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center mt-5">
                <p>¬øTienes alguna consulta sobre tus pedidos? <a href="{{ url_for('contacto') }}">Cont√°ctanos</a>.</p>
            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="ordenModal1" tabindex="-1" aria-labelledby="ordenModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-dark text-white">
                <h5 class="modal-title" id="ordenModalLabel">Detalle de Orden #20240101</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h6>Productos:</h6>
                <ul>
                    <li>3x L√°piz Grafito HB - $1.50 c/u</li>
                    <li>1x Set Geom√©trico - $11.00</li>
                </ul>
                <p><strong>Total Pagado: $15.50</strong></p>
                <p>Direcci√≥n de Env√≠o: Calle Falsa 123, Ciudad.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}